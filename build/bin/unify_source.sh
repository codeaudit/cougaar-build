#! /bin/sh

# <copyright>
#  Copyright 2001-2003 BBNT Solutions, LLC
#  under sponsorship of the Defense Advanced Research Projects Agency (DARPA).
# 
#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the Cougaar Open Source License as published by
#  DARPA on the Cougaar Open Source Website (www.cougaar.org).
# 
#  THE COUGAAR SOFTWARE AND ANY DERIVATIVE SUPPLIED BY LICENSOR IS
#  PROVIDED 'AS IS' WITHOUT WARRANTIES OF ANY KIND, WHETHER EXPRESS OR
#  IMPLIED, INCLUDING (BUT NOT LIMITED TO) ALL IMPLIED WARRANTIES OF
#  MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, AND WITHOUT
#  ANY WARRANTIES AS TO NON-INFRINGEMENT.  IN NO EVENT SHALL COPYRIGHT
#  HOLDER BE LIABLE FOR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL
#  DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE OF DATA OR PROFITS,
#  TORTIOUS CONDUCT, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
#  PERFORMANCE OF THE COUGAAR SOFTWARE.
# </copyright>


# This script creates a soft-linked unified view of the Cougaar
# source code.  This is very handy for navigating the source,
# running IDEs, and running debuggers such as OptimizeIt.
#
# This script uses symbolic links (ln -s).  Bash and a compatible
# operating system are required (e.g. Linux).
#
# Run this script in the $COUGAAR_INSTALL_PATH.  It will create
# a "src/" directory with links to the source contained in the
# "cougaar-src.zip".  Note that this script has little error
# checking, so use at your own risk...
#
# This script was machine-generated by the Java class:
#     org.cougaar.tools.build.UnifySourceScripter
# which is included in the Cougaar release.  The class can be
# used to generate a new script that matches your local
# development packages and third-party source (e.g. the JDK's
# unzipped "$JAVA_HOME/src.zip")

BASE=$COUGAAR_INSTALL_PATH

if [ -z $BASE ] || [ ! -d $BASE ]; then
  echo "Missing directory: $BASE"
  exit 1
fi

Manifest=$BASE/Manifest
aggagent=$BASE/aggagent
albbn=$BASE/albbn
bin=$BASE/bin
build=$BASE/build
clib=$BASE/clib
community=$BASE/community
configs=$BASE/configs
core=$BASE/core
csmart=$BASE/csmart
datagrabber=$BASE/datagrabber
doc=$BASE/doc
glm=$BASE/glm
lib=$BASE/lib
planning=$BASE/planning
quo=$BASE/quo
scalability=$BASE/scalability
server=$BASE/server
servicediscovery=$BASE/servicediscovery
stoplight=$BASE/stoplight
tutorial=$BASE/tutorial
uiframework=$BASE/uiframework
vishnu=$BASE/vishnu
webserver=$BASE/webserver
webtomcat=$BASE/webtomcat
yp=$BASE/yp
base=$BASE/base
bootstrap=$BASE/bootstrap
contract=$BASE/contract
javaiopatch=$BASE/javaiopatch
qos=$BASE/qos
toolkit=$BASE/toolkit
util=$BASE/util
sys=$BASE/sys
src=$BASE/src

function make_dir () {
  mkdir $1 || exit 1
}

function link () {
  ln -s $* || exit 1
}

make_dir src; cd src
  make_dir org; cd org
    make_dir cougaar; cd cougaar
      make_dir core; cd core
        link $core/src/org/cougaar/core/adaptivity
        link $core/src/org/cougaar/core/logging
        link $util/src/org/cougaar/core/component
        link $core/src/org/cougaar/core/wp
        make_dir qos; cd qos
          link $core/src/org/cougaar/core/qos/metrics
          link $qos/src/org/cougaar/core/qos/rss
        cd ..
        link $core/src/org/cougaar/core/service
        link $core/src/org/cougaar/core/persist
        link $core/src/org/cougaar/core/plugin
        link $core/src/org/cougaar/core/relay
        link $core/src/org/cougaar/core/mts
        link $core/src/org/cougaar/core/mobility
        link $core/src/org/cougaar/core/thread
        link $core/examples/org/cougaar/core/examples
        link $core/src/org/cougaar/core/naming
        link $core/src/org/cougaar/core/blackboard
        link $core/src/org/cougaar/core/agent
        link $core/src/org/cougaar/core/servlet
        link $core/src/org/cougaar/core/domain
        link $core/src/org/cougaar/core/node
        link $core/src/org/cougaar/core/util
      cd ..
      make_dir bootstrap; cd bootstrap
        link $bootstrap/src/org/cougaar/bootstrap/SystemProperties.java
        link $bootstrap/src/org/cougaar/bootstrap/XURLClassLoader.java
        link $bootstrap/src/org/cougaar/bootstrap/CheckingBootstrapper.java
        link $bootstrap/src/org/cougaar/bootstrap/BootstrapClassLoader.java
        link $bootstrap/src/org/cougaar/bootstrap/Bootstrapper.java
        link $bootstrap/examples/org/cougaar/bootstrap/BaseBootstrapper.java
      cd ..
      link $tutorial/src/org/cougaar/tutorial
      make_dir mlm; cd mlm
        link $glm/src/org/cougaar/mlm/examples
        link $glm/src/org/cougaar/mlm/servlet
        make_dir ui; cd ui
          link $glm/src/org/cougaar/mlm/ui/glsinit
          link $datagrabber/src/org/cougaar/mlm/ui/psp
          link $glm/src/org/cougaar/mlm/ui/planviewer
          link $glm/src/org/cougaar/mlm/ui/data
          link $datagrabber/src/org/cougaar/mlm/ui/newtpfdd
          link $datagrabber/src/org/cougaar/mlm/ui/servlet
          link $datagrabber/src/org/cougaar/mlm/ui/grabber
          link $glm/src/org/cougaar/mlm/ui/SwingWorker.java
        cd ..
        link $glm/src/org/cougaar/mlm/plugin
        link $glm/src/org/cougaar/mlm/debug
        link $glm/src/org/cougaar/mlm/construction
      cd ..
      make_dir planning; cd planning
        link $planning/examples/org/cougaar/planning/examples
        link $planning/src/org/cougaar/planning/servlet
        link $planning/src/org/cougaar/planning/service
        link $planning/src/org/cougaar/planning/ldm
        link $planning/src/org/cougaar/planning/plugin
        link $planning/src/org/cougaar/planning/Constants.java
      cd ..
      link $servicediscovery/src/org/cougaar/servicediscovery
      make_dir tools; cd tools
        link $scalability/src/org/cougaar/tools/scalability
        link $build/src/org/cougaar/tools/build
        link $csmart/src/org/cougaar/tools/csmart
        link $build/src/org/cougaar/tools/javadoc
        make_dir server; cd server
          link $server/src/org/cougaar/tools/server/system
          link $server/src/org/cougaar/tools/server/rmi
          link $server/examples/org/cougaar/tools/server/examples
          link $server/src/org/cougaar/tools/server/server
          link $server/src/org/cougaar/tools/server/RemoteFileSystem.java
          link $server/src/org/cougaar/tools/server/NodeEventTranslator.java
          link $server/src/org/cougaar/tools/server/OutputPolicy.java
          link $server/src/org/cougaar/tools/server/OutputListener.java
          link $server/src/org/cougaar/tools/server/NodeEvent.java
          link $server/src/org/cougaar/tools/server/DualStreamBuffer.java
          link $server/src/org/cougaar/tools/server/package.html
          link $server/src/org/cougaar/tools/server/OutputBundle.java
          link $server/src/org/cougaar/tools/server/URLListener.java
          link $server/src/org/cougaar/tools/server/AppServer.java
          link $server/src/org/cougaar/tools/server/RemoteProcessManager.java
          link $server/src/org/cougaar/tools/server/RemoteListenable.java
          link $server/src/org/cougaar/tools/server/RemoteListenableConfig.java
          link $server/src/org/cougaar/tools/server/RemoteProcess.java
          link $server/src/org/cougaar/tools/server/RemoteHostRegistry.java
          link $server/src/org/cougaar/tools/server/ProcessDescription.java
          link $server/src/org/cougaar/tools/server/RemoteHost.java
        cd ..
      cd ..
      make_dir community; cd community
        link $community/src/org/cougaar/community/manager
        link $community/examples/org/cougaar/community/examples
        link $community/src/org/cougaar/community/requests
        link $community/src/org/cougaar/community/util
        link $community/src/org/cougaar/community/init
        link $community/src/org/cougaar/community/CommunityServiceComponent.java
        link $community/src/org/cougaar/community/EntityImpl.java
        link $community/src/org/cougaar/community/CommunityRosterImpl.java
        link $community/src/org/cougaar/community/CommunityMemberships.java
        link $community/src/org/cougaar/community/AgentImpl.java
        link $community/src/org/cougaar/community/CommunityDescriptor.java
        link $community/src/org/cougaar/community/CommunityImpl.java
        link $community/src/org/cougaar/community/CommunityCache.java
        link $community/src/org/cougaar/community/CommunityResponseImpl.java
        link $community/src/org/cougaar/community/CommunityServiceImpl.java
        link $community/src/org/cougaar/community/CommunityPlugin.java
        link $community/src/org/cougaar/community/CommunityServiceProvider.java
        link $community/src/org/cougaar/community/CommunityDomain.java
        link $community/src/org/cougaar/community/RelayAdapter.java
      cd ..
      make_dir glm; cd glm
        link $glm/src/org/cougaar/glm/parser
        link $glm/src/org/cougaar/glm/map
        make_dir execution; cd execution
          link $glm/src/org/cougaar/glm/execution/common
          link $glm/examples/org/cougaar/glm/execution/eg
          link $glm/src/org/cougaar/glm/execution/ChangeLog
        cd ..
        link $glm/src/org/cougaar/glm/xml
        link $glm/src/org/cougaar/glm/packer
        link $glm/src/org/cougaar/glm/servlet
        link $glm/src/org/cougaar/glm/ldm
        link $glm/src/org/cougaar/glm/callback
        link $glm/src/org/cougaar/glm/plugin
        link $glm/src/org/cougaar/glm/debug
        link $glm/src/org/cougaar/glm/util
        link $glm/src/org/cougaar/glm/plugins
        link $glm/src/org/cougaar/glm/GLMPlugin.java
        link $glm/src/org/cougaar/glm/GLMConst.java
      cd ..
      link $core/src/org/cougaar/multicast
      link $yp/src/org/cougaar/yp
      make_dir lib; cd lib
        link $vishnu/src/org/cougaar/lib/vishnu
        link $quo/src/org/cougaar/lib/mquo
        link $toolkit/src/org/cougaar/lib/param
        link $glm/src/org/cougaar/lib/quo
        link $uiframework/src/org/cougaar/lib/uiframework
        link $toolkit/src/org/cougaar/lib/filter
        link $toolkit/src/org/cougaar/lib/xml
        link $toolkit/src/org/cougaar/lib/callback
        make_dir web; cd web
          make_dir arch; cd arch
            link $webserver/src/org/cougaar/lib/web/arch/leaf
            link $webserver/examples/org/cougaar/lib/web/arch/examples
            link $webserver/src/org/cougaar/lib/web/arch/server
            link $webserver/src/org/cougaar/lib/web/arch/util
            link $webserver/src/org/cougaar/lib/web/arch/root
            link $webserver/src/org/cougaar/lib/web/arch/ServletRegistry.java
          cd ..
          link $webserver/src/org/cougaar/lib/web/service
          link $webtomcat/src/org/cougaar/lib/web/tomcat
        cd ..
        link $aggagent/src/org/cougaar/lib/aggagent
        link $toolkit/src/org/cougaar/lib/plugin
        link $toolkit/src/org/cougaar/lib/util
        link $contract/src/org/cougaar/lib/contract
      cd ..
      make_dir logistics; cd logistics
        link $albbn/src/org/cougaar/logistics/servlet
        link $albbn/src/org/cougaar/logistics/ldm
        make_dir ui; cd ui
          link $albbn/src/org/cougaar/logistics/ui/inventory
          link $stoplight/src/org/cougaar/logistics/ui/stoplight
        cd ..
        link $albbn/src/org/cougaar/logistics/plugin
      cd ..
      make_dir util; cd util
        link $util/src/org/cougaar/util/jar
        link $util/src/org/cougaar/util/log
        link $util/src/org/cougaar/util/TriggerModel.java
        link $util/src/org/cougaar/util/CircularQueue.java
        link $util/src/org/cougaar/util/SingleElementEnumeration.java
        link $util/src/org/cougaar/util/PropertyTree.java
        link $util/src/org/cougaar/util/TriggerRegistry.java
        link $util/src/org/cougaar/util/ReusableThread.java
        link $util/src/org/cougaar/util/Spinner.java
        link $util/src/org/cougaar/util/EmptyIterator.java
        link $util/src/org/cougaar/util/NonOverlappingTimeSpanSet.java
        link $util/src/org/cougaar/util/Enumerator.java
        link $util/src/org/cougaar/util/KeyedSet.java
        link $util/src/org/cougaar/util/Mappings.java
        link $util/src/org/cougaar/util/CSVUtility.java
        link $util/src/org/cougaar/util/Collectors.java
        link $util/src/org/cougaar/util/DynamicUnaryPredicate.java
        link $util/src/org/cougaar/util/BitSet2D.java
        link $util/src/org/cougaar/util/UnaryPredicate.java
        link $util/src/org/cougaar/util/SyncTriggerModelImpl.java
        link $util/src/org/cougaar/util/Mapping.java
        link $util/src/org/cougaar/util/PropertyParser.java
        link $util/src/org/cougaar/util/IdentityHashSet.java
        link $util/src/org/cougaar/util/TimeSpan.java
        link $util/src/org/cougaar/util/SynchronizedTimeSpanSet.java
        link $util/src/org/cougaar/util/LockFlag.java
        link $util/src/org/cougaar/util/NewTimeSpan.java
        link $util/src/org/cougaar/util/PipedOutputStream.java
        link $util/src/org/cougaar/util/TableSorter.java
        link $util/src/org/cougaar/util/Filters.java
        link $util/src/org/cougaar/util/WaitQueue.java
        link $util/src/org/cougaar/util/ChangeLog
        link $util/src/org/cougaar/util/Reflect.java
        link $util/src/org/cougaar/util/MoreMath.java
        link $util/src/org/cougaar/util/OptionPane.java
        link $util/src/org/cougaar/util/ReadOnlySet.java
        link $glm/examples/org/cougaar/util/MDBConfigWriter.java
        link $util/src/org/cougaar/util/ThemeFactory.java
        link $util/src/org/cougaar/util/Random.java
        link $util/src/org/cougaar/util/ArrayMap.java
        link $util/src/org/cougaar/util/CollectionDelegate.java
        link $glm/examples/org/cougaar/util/MEIWriter.java
        link $util/src/org/cougaar/util/index.html
        link $util/src/org/cougaar/util/BackedEnumerator.java
        link $util/src/org/cougaar/util/FastString.java
        link $util/src/org/cougaar/util/Empty.java
        link $util/src/org/cougaar/util/TableMap.java
        link $util/src/org/cougaar/util/FilteredEnumeration.java
        link $util/src/org/cougaar/util/ReusableThreadPool.java
        link $util/src/org/cougaar/util/MinMaxPanel.java
        link $util/src/org/cougaar/util/Configuration.java
        link $util/src/org/cougaar/util/StateModelException.java
        link $util/src/org/cougaar/util/Trigger.java
        link $util/src/org/cougaar/util/EmptyEnumeration.java
        link $util/src/org/cougaar/util/StringUtility.java
        link $util/src/org/cougaar/util/Thunk.java
        link $util/src/org/cougaar/util/GenericStateModelAdapter.java
        link $util/src/org/cougaar/util/ShortDateFormat.java
        link $util/src/org/cougaar/util/LinkedByteOutputStream.java
        link $util/src/org/cougaar/util/ReadOnlySortedSet.java
        link $util/src/org/cougaar/util/INIParser.java
        link $util/src/org/cougaar/util/FilteredIterator.java
        link $util/src/org/cougaar/util/NumericListDocument.java
        link $util/src/org/cougaar/util/ConfigFinder.java
        link $util/src/org/cougaar/util/NumericDocument.java
        link $util/src/org/cougaar/util/TimeSpanSet.java
        link $util/src/org/cougaar/util/IntrospectionTest.java
        link $util/src/org/cougaar/util/StringKey.java
        link $util/src/org/cougaar/util/LRUExpireMap.java
        link $util/src/org/cougaar/util/Sortings.java
        link $util/src/org/cougaar/util/DBProperties.java
        link $util/src/org/cougaar/util/SelfDescribingBeanInfo.java
        link $util/src/org/cougaar/util/PipedInputStream.java
        link $util/src/org/cougaar/util/DBConnectionPool.java
        link $util/src/org/cougaar/util/MutableTimeSpan.java
        link $util/src/org/cougaar/util/ReadOnlyCollection.java
        link $util/src/org/cougaar/util/Translations.java
        link $util/src/org/cougaar/util/ConfigFileFinder.java
        link $util/src/org/cougaar/util/DemoMetalTheme.java
        link $util/src/org/cougaar/util/ArrayListFoundation.java
        link $util/src/org/cougaar/util/Parameters.java
        link $util/src/org/cougaar/util/ChainingIterator.java
        link $util/src/org/cougaar/util/GenericStateModel.java
      cd ..
      link $core/src/org/cougaar/version.def
      link $core/src/org/cougaar/version.gen
      link $core/src/org/cougaar/Version.java
    cd ..
  cd ..
  link $javaiopatch/src/java
cd ..

if [ ! -f src/README ]; then
cat > src/README << EOF
This is a symbolically-linked source view, generated by:
  cd \$COUGAAR_INSTALL_PATH
  $0

See the above script for details.
EOF
fi
